+function($){"use strict";window.cruk_base={},cruk_base.is_touch_device="ontouchstart"in document.documentElement,$(".cr-input-group__input").on("focus",function(){$(this).parent().addClass("cr-input-group--focused")}).on("blur",function(){$(this).parent().removeClass("cr-input-group--focused")})}(jQuery),jQuery(document).ready(function($){"use strict";function checkIt($input){var type=$input.attr("type");"radio"===type?checkItRadio($input):"checkbox"===type&&checkItCheckbox($input)}function checkItRadio($input){var name=$input.attr("name"),id=$input.attr("id");$("input[name="+name+"]").not("#"+id).parents(".radio").removeClass("radio-selected"),$input.parents(".radio").addClass("radio-selected")}function checkItCheckbox($input){$input.is(":checked")?$input.parents(".checkbox").addClass("checkbox-selected"):$input.parents(".checkbox").removeClass("checkbox-selected")}$("form").find("input[type=radio]:checked, input[type=checkbox]:checked").each(function(){checkIt($(this))}),$("form").on("change","input[type=radio], input[type=checkbox]",function(){checkIt($(this))})}),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("cruk.search_cip"),options=$.extend({},SearchCIP.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("cruk.search_cip",data=new SearchCIP(this,options))})}var SearchCIP=function(element,options){this.$element=$(element),this.$form=this.$element.closest("form"),this.$input=this.$element.find(".cr-search-input__input"),this.$icon=this.$element.find(".cr-input-group__icon"),this.options=options,this.last_search=null,this.active=!1,this.submit_aria_label=this.$element.find("button").attr("aria-label"),this.$form.on("submit",$.proxy(this.submitHandler,this)),this.$input.on("input",$.proxy(this.inputChange,this)),this.$icon.on("click",$.proxy(this.iconClick,this))};SearchCIP.VERSION="0.0.1",SearchCIP.DEFAULTS={force_touch_device:!1},SearchCIP.prototype.isNewSearch=function(input_value){return this.active&&""!==input_value&&input_value!==this.last_search?(this.active=!1,!0):!1},SearchCIP.prototype.switchIcons=function(){var input_value=this.$input.val().trim();if((""===input_value||this.isNewSearch(input_value))&&this.$icon.hasClass("glyphicon-remove")){var button_aria_label=this.submit_aria_label;this.$icon.fadeOut("fast",function(){$(this).removeClass("glyphicon-remove").addClass("glyphicon-search").fadeIn("fast").parent().attr("aria-label",button_aria_label)})}this.active&&this.$icon.hasClass("glyphicon-search")&&this.$icon.fadeOut("fast",function(){$(this).removeClass("glyphicon-search").addClass("glyphicon-remove").fadeIn("fast").parent().attr("aria-label","Clear your current search")})},SearchCIP.prototype.iconClick=function(){this.$icon.hasClass("glyphicon-remove")&&(this.last_search=null,this.active=!1,this.$input.val("").focus(),this.switchIcons(),this.$element.trigger("search_cip:search_cleared"))},SearchCIP.prototype.inputChange=function(){this.$input.val();(cruk_base.is_touch_device||this.options.force_touch_device)&&this.switchIcons()},SearchCIP.prototype.submitHandler=function(e){e.preventDefault();var input_value=this.$input.val().trim();return""===input_value||""!==this.last_search&&this.last_search===input_value?!1:(this.last_search=input_value,this.active=!0,this.$element.trigger("search_cip:search_execute",input_value),void((cruk_base.is_touch_device||this.options.force_touch_device)&&this.switchIcons()))};var old=$.fn.search_cip;$.fn.search_cip=Plugin,$.fn.search_cip.Constructor=SearchCIP,$.fn.search_cip.noConflict=function(){return $.fn.search_cip=old,this},$(window).on("load",function(){$('[data-search-field="combined-ip"]').each(function(){var $search_cip=$(this);Plugin.call($search_cip,$search_cip.data())})})}(jQuery),jQuery(document).ready(function($){"use strict";function goToNextPage(){return currentPage>=pageCount?!1:(goToPage(currentPage+1),!1)}function goToPreviousPage(){return 1>=currentPage?!1:(goToPage(currentPage-1),!1)}function goToPage(targetPage){var $currentPage=$(".thread-pagination__page--current");return"number"!=typeof targetPage||$currentPage.find("a").data("targetPage")===targetPage?!1:($(".thread-pagination__page--far").removeClass("thread-pagination__page--far").addClass("thread-pagination__page"),window.history.replaceState({page:targetPage},"Page "+targetPage,"?page="+targetPage),$currentPage.removeClass("thread-pagination__page--current").addClass("thread-pagination__page"),$("[data-target-page="+targetPage+"]").parent(".thread-pagination__page").removeClass("thread-pagination__page").addClass("thread-pagination__page--current"),$(".thread-pagination__page").hide(),getAdjacentPages(targetPage).forEach(function(element){var adjacentPageNumber=$(element).find("a").data("targetPage");isFarNeighbour(adjacentPageNumber,targetPage)&&adjacentPageNumber>2&&pageCount-1>adjacentPageNumber&&$(element).removeClass("thread-pagination__page").addClass("thread-pagination__page--far"),$(element).show()}),$previousLink.toggleClass("is-disabled",1===targetPage),$nextLink.toggleClass("is-disabled",targetPage===pageCount),isNearPaginationStart(targetPage,maximumRange+1)?($firstEllipsis.hide(),isNearPaginationEnd(targetPage,maximumRange+1)||$lastEllipsis.show()):isNearPaginationEnd(targetPage,maximumRange+1)?($lastEllipsis.hide(),$firstEllipsis.show()):$(".thread-pagination__ellipsis--first, .thread-pagination__ellipsis--last").show(),$(".thread-pagination").find(".is-first-page, .is-last-page").show(),void(currentPage=targetPage))}function isNearPaginationStart(page,range){return range=range||maximumRange,1+range>=page}function isNearPaginationEnd(page,range){return range=range||maximumRange,page+range>=pageCount}function isFarNeighbour(neighbouringPage,relativePage){return neighbouringPage>relativePage?neighbouringPage-relativePage>minimumRange:relativePage-neighbouringPage>minimumRange}function getAdjacentPages(page){var offset,adjacentPages=[];if("number"!=typeof page||1>page)return adjacentPages;var minimumPage=isNearPaginationStart(page)?1:page-maximumRange,maximumPage=isNearPaginationEnd(page)?pageCount:page+maximumRange;maximumRange>=pageCount-page?(offset=1+maximumRange-(pageCount-page),minimumPage=1>minimumPage-offset?1:minimumPage-offset):maximumRange+2>=page&&(offset=maximumRange+2-page,maximumPage=maximumPage+offset>pageCount?pageCount:maximumPage+offset);for(var count=minimumPage;maximumPage>=count;count++)if(count!==page){var adjacentPage=$("[data-target-page="+count+"]").parent(".thread-pagination__page");adjacentPage.length&&adjacentPages.push(adjacentPage)}return adjacentPages}function getQueryParameter(parameter){for(var query=window.location.search.substring(1),params=query.split("&"),i=0;i<params.length;i++){var pair=params[i].split("=");if(pair[0]==parameter)return pair[1]}return!1}var pageCount=$(".is-last-page").find("a").data("targetPage"),maximumRange=2,minimumRange=1,defaultPage=Math.ceil(pageCount/2),currentPage=parseInt(getQueryParameter("page"),10);(currentPage===!1||isNaN(currentPage))&&(currentPage=defaultPage);var $firstEllipsis=$(".thread-pagination__ellipsis--first"),$lastEllipsis=$(".thread-pagination__ellipsis--last"),$previousLink=$(".thread-pagination__previous"),$nextLink=$(".thread-pagination__next");goToPage(currentPage),$(".js-thread-pagination-page").click(function(){return goToPage($(this).data("targetPage")),!1}),$previousLink.click(goToPreviousPage),$nextLink.click(goToNextPage)});